
VMEmulator - Load program "StackTest.vm"

```
STEP | GS256 | GS257 | GS258 | GS259 | GS260 | GS261 | GS262 | GS263 | GS264 | GS265 | GS266 | GS267 |  SP
----------------------------------------------------------------------------------------------------------
01   |    17 |       |       |       |       |       |       |       |       |       |       |       | 257     (push constant 17)
02   |       |    17 |       |       |       |       |       |       |       |       |       |       | 258     (push constant 17)
03   |    -1 |    17 |       |       |       |       |       |       |       |       |       |       | 257     (eq)
04   |       |       |       |       |       |       |       |       |       |       |       |       | 258     (push constant 17)
05   |       |       |    16 |       |       |       |       |       |       |       |       |       | 259     (push constant 16)
06   |       |     0 |       |       |       |       |       |       |       |       |       |       | 258     (eq)
07   |       |       |       |       |       |       |       |       |       |       |       |       | 259     (push constant 16)
08   |       |       |       |    17 |       |       |       |       |       |       |       |       | 260     (push constant 17)
09   |       |       |     0 |       |       |       |       |       |       |       |       |       | 259     (eq)
10   |       |       |       |   892 |       |       |       |       |       |       |       |       | 260     (push constant 892)
11   |       |       |       |       |   891 |       |       |       |       |       |       |       | 261     (push constant 891)
12   |       |       |       |     0 |       |       |       |       |       |       |       |       | 260     (lt)
13   |       |       |       |       |       |       |       |       |       |       |       |       | 261     (push constant 891)
14   |       |       |       |       |       |   892 |       |       |       |       |       |       | 262     (push constant 892)
15   |       |       |       |       |    -1 |       |       |       |       |       |       |       | 261     (lt)
16   |       |       |       |       |       |   891 |       |       |       |       |       |       | 262     (push constant 891)
17   |       |       |       |       |       |       |   891 |       |       |       |       |       | 263     (push constant 891)
18   |       |       |       |       |       |     0 |       |       |       |       |       |       | 262     (lt)
19   |       |       |       |       |       |       | 32767 |       |       |       |       |       | 263     (push constant 32767)
20   |       |       |       |       |       |       |       | 32766 |       |       |       |       | 264     (push constant 32766)
21   |       |       |       |       |       |       |    -1 |       |       |       |       |       | 263     (gt)
22   |       |       |       |       |       |       |       |       |       |       |       |       | 264     (push constant 32766)
23   |       |       |       |       |       |       |       |       | 32767 |       |       |       | 265     (push constant 32767)
24   |       |       |       |       |       |       |       |     0 |       |       |       |       | 264     (gt)
25   |       |       |       |       |       |       |       |       | 32766 |       |       |       | 265     (push constant 32766)
26   |       |       |       |       |       |       |       |       |       | 32766 |       |       | 266     (push constant 32766)
27   |       |       |       |       |       |       |       |       |     0 |       |       |       | 265     (gt)
28   |       |       |       |       |       |       |       |       |       |    57 |       |       | 266     (push constant 57)
29   |       |       |       |       |       |       |       |       |       |       |    31 |       | 267     (push constant 31)
30   |       |       |       |       |       |       |       |       |       |       |       |    53 | 268     (push constant 53)
31   |       |       |       |       |       |       |       |       |       |       |    84 |       | 267     (add)
32   |       |       |       |       |       |       |       |       |       |       |       |   112 | 268     (push constant 112)
33   |       |       |       |       |       |       |       |       |       |       |   -28 |       | 267     (sub)
34   |       |       |       |       |       |       |       |       |       |       |    28 |       | 267     (neg)
35   |       |       |       |       |       |       |       |       |       |    24 |       |       | 266     (and)
36   |       |       |       |       |       |       |       |       |       |       |    82 |       | 267     (push constant 82)
37   |       |       |       |       |       |       |       |       |       |    90 |       |       | 266     (or)
38   |       |       |       |       |       |       |       |       |       |   -91 |       |       | 266     (not)
```

Where condition evaluates to true, store -1.
Where condition evaluates to false, store 0.

Pseudo code:

```
|  *eq*                        |
|                              |
|  if (RAM[SP-1] = RAM[SP-2])  |
|  then                        |
|    RAM[SP-2] = -1            |
|  else                        |
|    RAM[SP-2] = 0             |
|  SP--                        |
```
